!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.iframeembed=t())}(self,()=>(()=>{var e={"./node_modules/css-loader/dist/cjs.js!./js/ckeditor5_plugins/iframeembed/src/theme/iframe.css":(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i("./node_modules/css-loader/dist/runtime/api.js"),r=i.n(n)()(function(e){return e[1]});r.push([e.id,".ck iframe.ck-widget {\n  pointer-events: none;\n}\n\n.ck.ck-iframe-embed-form {\n  padding: 5px;\n  row-gap: 5px;\n  display: grid;\n}\n",""]);const o=r},"./node_modules/css-loader/dist/runtime/api.js":e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=e(t);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i}).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var l=0;l<e.length;l++){var a=[].concat(e[l]);n&&r[a[0]]||(i&&(a[2]?a[2]="".concat(i," and ").concat(a[2]):a[2]=i),t.push(a))}},t}},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(e,t,i)=>{"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),s=[];function l(e){for(var t=-1,i=0;i<s.length;i++)if(s[i].identifier===e){t=i;break}return t}function a(e,t){for(var i={},n=[],r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],c=i[a]||0,d="".concat(a," ").concat(c);i[a]=c+1;var u=l(d),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(s[u].references++,s[u].updater(h)):s.push({identifier:d,updater:g(h,t),references:1}),n.push(d)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=i.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])}),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function h(e,t,i,n){var r=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function m(e,t,i){var n=i.css,r=i.media,o=i.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,b=0;function g(e,t){var i,n,r;if(t.singleton){var o=b++;i=f||(f=c(t)),n=h.bind(null,i,o,!1),r=h.bind(null,i,o,!0)}else i=c(t),n=m.bind(null,i,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var i=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var r=l(i[n]);s[r].references--}for(var o=a(e,t),c=0;c<i.length;c++){var d=l(i[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}i=o}}}},"ckeditor5/src/core.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/icons.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/icons.js")},"ckeditor5/src/ui.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/utils.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/utils.js")},"ckeditor5/src/widget.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nc=void 0;var n={};return(()=>{"use strict";i.d(n,{default:()=>w});var e=i("ckeditor5/src/core.js"),t=i("ckeditor5/src/ui.js"),r=i("ckeditor5/src/utils.js"),o=i("ckeditor5/src/icons.js");class s extends t.View{constructor(e,t){super(e);let i=[];this.src=this._createInput("URL"),i.push(this.src),this._attrIsEnabled(t,"name")&&(this.name=this._createInput("Name"),i.push(this.name)),this._attrIsEnabled(t,"width")&&(this.width=this._createInput("Width"),i.push(this.width)),this._attrIsEnabled(t,"height")&&(this.height=this._createInput("Height"),i.push(this.height)),this._attrIsEnabled(t,"title")&&(this.title=this._createInput("Advisory Title"),i.push(this.title)),this._attrIsEnabled(t,"longdesc")&&(this.longdesc=this._createInput("Long Description"),i.push(this.longdesc)),this._attrIsEnabled(t,"align")&&(this.alignDropdown=this._createDropdown("Add align",["None","Left","Right","Top","Middle","Bottom"]),this.align=null,this.listenTo(this.alignDropdown,"execute",e=>{const t=e.source.element.textContent;this.alignDropdown.buttonView.label=`Align ${t}`,this.align="None"===t?null:t.toLowerCase()}),i.push(this.alignDropdown)),this._attrIsEnabled(t,"scrolling")&&(this.scrolling=this._createSwitch("Enable scrollbars"),i.push(this.scrolling)),this._attrIsEnabled(t,"frameborder")&&(this.frameborder=this._createSwitch("Show frame border"),i.push(this.frameborder)),this._attrIsEnabled(t,"tabindex")&&(this.tabindex=this._createSwitch("Remove from tabindex"),i.push(this.tabindex)),this._attrIsEnabled(t,"allowfullscreen")&&(this.allowfullscreen=this._createSwitch("Allow fullscreen"),i.push(this.allowfullscreen)),this.saveButtonView=this._createButton("Save",o.IconCheck,"ck-button-save"),this.saveButtonView.type="submit",i.push(this.saveButtonView),this.cancelButtonView=this._createButton("Cancel",o.IconCancel,"ck-button-cancel"),i.push(this.cancelButtonView),this.cancelButtonView.delegate("execute").to(this,"cancel"),this.children=this.createCollection(i),this.setTemplate({tag:"form",attributes:{class:["ck","ck-iframe-embed-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,t.submitHandler)({view:this})}focus(){this.children.first.focus()}_createInput(e,i=!1){const n=new t.LabeledFieldView(this.locale,i?t.createLabeledInputNumber:t.createLabeledInputText);return n.label=e,n}_createButton(e,i=!1,n=!1){const r=new t.ButtonView;return r.set({label:e,icon:i,tooltip:!0,class:n}),r}_createDropdown(e,i){const n=(0,t.createDropdown)(this.locale),o={label:e,withText:!0};n.buttonView.set(o);const s=new r.Collection;return i.forEach(e=>{const i={type:"button",text:e,model:new t.ViewModel({label:e,withText:!0})};s.add(i)}),(0,t.addListToDropdown)(n,s),n.render(),n}_createSwitch(e){const i=new t.SwitchButtonView;return i.set({label:e,withText:!0,isOn:!1}),i.on("execute",()=>{i.isOn=!i.isOn}),i}_attrIsEnabled(e,t){return e.config.get("iframe").enabled_optional_attributes.includes(t)}}class l extends e.Plugin{static get requires(){return[t.ContextualBalloon]}init(){const e=this.editor;this._balloon=this.editor.plugins.get(t.ContextualBalloon),this.formView=this._createFormView(),e.ui.componentFactory.add("iframeEmbed",i=>{const n=new t.ButtonView(i);if(n.set({label:e.t("Iframe Embed"),icon:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M21 2H3a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2M11 17.5L9.5 19L5 14.5L9.5 10l1.5 1.5l-3 3l3 3m3.5 1.5L13 17.5l3-3l-3-3l1.5-1.5l4.5 4.5l-4.5 4.5M21 7H3V4h18v3z" /></svg>\n',tooltip:!0}),n.on("execute",()=>{this._showUI()}),e.plugins.has("SourceEditing")){const t=e.plugins.get("SourceEditing");n.bind("isEnabled").to(t,"isSourceEditingMode",e=>!e)}return n})}_createFormView(){const{model:e,locale:i}=this.editor,n=new s(i,this.editor);return this.listenTo(n,"submit",()=>{e.change(t=>{let i={};i.src=n.src.fieldView.element.value??null,["width","height","name","title","longdesc"].forEach(e=>{n[e]&&n[e].fieldView.element.value&&(i[e]=n[e].fieldView.element.value)}),n.scrolling&&n.scrolling.isOn&&(i.scrolling="yes"),n.allowfullscreen&&n.allowfullscreen.isOn&&(i.allowfullscreen="true"),n.frameborder&&n.frameborder.isOn&&(i.frameborder=1),n.tabindex&&n.tabindex.isOn&&(i.tabindex=-1),n.align&&(i.align=n.align);const r=t.createElement("iframeEmbed",i);e.insertContent(r)}),this._hideUI()}),this.listenTo(n,"cancel",()=>{this._hideUI()}),(0,t.clickOutsideHandler)({emitter:n,activator:()=>this._balloon.visibleView===n,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()}),n}_hideUI(){["src","width","height","name","title","longdesc"].forEach(e=>{this.formView[e]&&(this.formView[e].fieldView.element.value=null)}),["scrolling","frameborder","tabindex","allowfullscreen"].forEach(e=>{this.formView[e]&&(this.formView[e].isOn=!1)}),this.formView.element.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus()}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;let i=null;return i=()=>e.domConverter.viewRangeToDom(t.selection.getFirstRange()),{target:i}}_showUI(){this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.focus()}}var a=i("ckeditor5/src/widget.js");class c extends e.Plugin{init(){this._defineSchema(),this._defineConverters()}_defineSchema(){const{schema:e}=this.editor.model;e.register("iframeEmbed",{allowWhere:"$inlineObject",isObject:!0,isInline:!0,allowAttributes:["align","frameborder","height","width","longdesc","name","scrolling","src","tabindex","title","allowfullscreen","allow","id","sandbox"]})}_defineConverters(){const{conversion:e,model:t}=this.editor;t.schema.getDefinition("iframeEmbed").allowAttributes.forEach(t=>{e.attributeToAttribute({model:{name:"iframeEmbed",key:t},view:t})}),e.for("upcast").elementToElement({model:"iframeEmbed",view:{name:"iframe"}}),e.for("dataDowncast").elementToElement({model:"iframeEmbed",view:{name:"iframe"}}),e.for("editingDowncast").elementToElement({model:"iframeEmbed",view:(e,{writer:t})=>{const i=t.createContainerElement("iframe");return t.setCustomProperty("iframe-emb",!0,i),(0,a.toWidget)(i,t,{label:"Iframe Embed"})}})}}function d(e){return(0,a.isWidget)(e)&&!!e.getCustomProperty("iframe-emb")}class u extends e.Plugin{static get requires(){return[a.WidgetToolbarRepository,t.ContextualBalloon]}static get pluginName(){return"IframeEmbedToolbar"}init(){const{editor:e}=this;this._balloon=this.editor.plugins.get(t.ContextualBalloon),e.ui.componentFactory.add("iframeEmbEdit",i=>{const n=new t.ButtonView(i);return n.set({label:e.t("Edit Iframe"),icon:o.IconPencil,tooltip:!0,withText:!0}),this.listenTo(n,"execute",()=>{const{selection:t}=e.model.document,i=function(e){const t=e.getSelectedElement();return(i=t)&&i.is("element","iframeEmbed")?t:e.getFirstPosition().findAncestor("iframeEmbed");var i}(t);i&&this._showUI(this._createFormView(i))}),n})}afterInit(){const{editor:e}=this;e.plugins.get("WidgetToolbarRepository").register("iframeEmbed",{items:["iframeEmbEdit"],getRelatedElement:e=>function(e){const t=e.getSelectedElement();if(t&&d(t))return t;let i=e.getFirstPosition();if(!i)return null;let{parent:n}=i;for(;n;){if(n.is("element")&&d(n))return n;n=n.parent}return null}(e)})}_createFormView(e){const{model:i,locale:n}=this.editor,r=new s(n,this.editor);return r.src.fieldView.value=e.getAttribute("src"),["width","height","name","title","longdesc"].forEach(t=>{r[t]&&(r[t].fieldView.value=e.getAttribute(t))}),r.scrolling&&(r.scrolling.isOn="yes"===e.getAttribute("scrolling")),r.frameborder&&(r.frameborder.isOn=1===e.getAttribute("frameborder")),r.tabindex&&(r.tabindex.isOn=-1===e.getAttribute("tabindex")),r.align&&(r.align=e.getAttribute("align")),r.allowfullscreen&&(r.allowfullscreen.isOn="true"===e.getAttribute("allowfullscreen")),this.listenTo(r,"submit",()=>{i.change(t=>{t.setAttribute("src",r.src.fieldView.element.value??null,e),["width","height","name","title","longdesc"].forEach(i=>{r[i]&&(r[i].fieldView.element.value?t.setAttribute(i,r[i].fieldView.element.value,e):t.removeAttribute(i,e))}),r.scrolling&&(r.scrolling.isOn?t.setAttribute("scrolling","yes",e):t.removeAttribute("scrolling",e)),r.allowfullscreen&&(r.allowfullscreen.isOn?t.setAttribute("allowfullscreen","true",e):t.removeAttribute("allowfullscreen",e)),r.frameborder&&(r.frameborder.isOn?t.setAttribute("frameborder",1,e):t.removeAttribute("frameborder",e)),r.tabindex&&(r.tabindex.isOn?t.setAttribute("tabindex",-1,e):t.removeAttribute("tabindex",e)),r.align?t.setAttribute("align",r.align,e):t.removeAttribute("align",e)}),this._hideUI(r)}),this.listenTo(r,"cancel",()=>{this._hideUI(r)}),(0,t.clickOutsideHandler)({emitter:r,activator:()=>this._balloon.visibleView===r,contextElements:[this._balloon.view.element],callback:()=>this._hideUI(r)}),r}_hideUI(e){this._balloon.remove(e),e.destroy(),this.editor.editing.view.focus()}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;let i=null;return i=()=>e.domConverter.viewRangeToDom(t.selection.getFirstRange()),{target:i}}_showUI(e){this._balloon.add({view:e,position:this._getBalloonPositionData()}),e.focus()}}var h=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),m=i.n(h),f=i("./node_modules/css-loader/dist/cjs.js!./js/ckeditor5_plugins/iframeembed/src/theme/iframe.css"),b={insert:"head",singleton:!1};m()(f.A,b);f.A.locals;class g extends e.Plugin{static get requires(){return[c,l,u]}}const w={IframeEmbed:g}})(),n=n.default})());